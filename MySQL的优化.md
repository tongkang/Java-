### MySQL的优化

---

#### MySQL索引原理

##### 索引目的：

- 提高效率



MySQL的优化，首先主要是通过索引来寻找，例如查找“mysql”肯定是通过定位m字母往下找y字母，再找剩下的sql，这样效率会高很多，倘若没有索引，则会查找整张表，数据量大效率则会很低。

索引背后的所用的数据结构则是B+树，把一阵列数据，按照大小分开，这样则是对半查找，效率提升为了lgN。

这背后也与磁盘的IO相关，由于CPU的执行速度与磁盘读取的速度相差巨大，读取IO也是非常昂贵的操作，则每次IO读取的数据我们称之为一页（page）

Innodb的存储逻辑也是Tablespace---Segment--extent---page，一个B+树节点就是一个页（16kb）

建立索引的原则：

最左前缀匹配原则，==和in可以乱序，尽量选择区分度高的列作为索引，就是表示字段不重复的比例，比例越大我们扫描的记录数也就会越少，例如join字段要求是0.1，即平均1条扫描10条记录

尽量扩展索引



今天看的Dubbo相关内容
首先了解rpc调用过程是怎么样的

RPC调用是分为客户端和服务端，通过序列化和反序列化，通过二进制来进行传输的。

一般来说传输信息分为HTTP和TCP传输，而RPC则是用的TCP，在客户端和服务端中使用socket进行通信

创建套接字-绑定端口-监听连接-接受新连接，然后进行请求数据，响应数据，服务端则相反



如何实现一个简易的rpc

分为两块，客户端和服务端（生产者和消费者）

生产者：一个api接口，实现这个接口的方法impl

我没会在yml中配置好地址，接口版本，使用zookeeper的话，需要zookeeper的地址

在impl中需要扫描yml 的内容
在消费者：

还是和生产者yml配置的内容一样，然后注入进来，就可以进行直接的调用





